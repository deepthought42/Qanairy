<!DOCTYPE html>
<html lang="en" class="h-100">
    <head>

        <!-- TITLE OF SITE -->
        <title>Qanairy - Sign Up</title>

        <!-- Meta -->
        <meta charset="utf-8">
        <meta name="description" content="Here at Qanairy we work hard and play hard. We are a team of passionate, determined individuals who collaborate together to achieve greatness." />
        <meta name="keywords" content="qa, quality assurance, automation, qa testing, ui testing, automated, automated qa, artificial intelligence, scripts, test scripts, SaaS, software, smoke, forms, link, regression, scriptless, AI, test, continuous integration, continuous testing, bugs, errors, feature, user interface, continuous deployment, testing, feature test, service," />
        <meta name="developer" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

        <!-- FAV AND ICONS   -->
        <link rel="shortcut icon" href="./assets/images/favicon.ico">
        <!--<link rel="shortcut icon" href="assets/images/apple-icon.png">
        <link rel="shortcut icon" sizes="72x72" href="assets/images/apple-icon-72x72.png">
        <link rel="shortcut icon" sizes="114x114" href="assets/images/apple-icon-114x114.png">
      -->
        <!-- FONT ICONS -->
        <link rel="stylesheet" href="assets/icons/font-awesome-4.4.0/css/font-awesome.min.css">
        <!-- All Plugin CSS-->
        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
        <!--   CUSTOM CSS link  -->
        <link rel="stylesheet" href="assets/css/sticky-footer-navbar.css">
        <link rel="stylesheet" href="assets/css/style.min.css">
        <!-- Color -->
        <link rel="stylesheet" href="assets/css/color/color-1.min.css"  id="color-scheme"> <!-- Currently Using this Color -->
        <!-- GOOGLE FONTS -->
        <link href="https://fonts.googleapis.com/css?family=Montserrat:100,100i,200,200i,300,300i,400,400i,500,500i,600,600i,700,700i,800,800i,900,900i" rel="stylesheet">
        <link href="https://fonts.googleapis.com/css?family=Open+Sans:300,300i,400,400i,600,600i,700,700i,800,800i" rel="stylesheet">
        <!-- Start of HubSpot Embed Code -->
        <script type="text/javascript" id="hs-script-loader" async defer src="//js.hs-scripts.com/4077132.js"></script>
        <!-- End of HubSpot Embed Code -->

    </head>

 <body class="d-flex flex-column h-100">
<header>
  <!-- Fixed navbar -->
    <nav class="navbar navbar-expand-lg navbar-dark fixed-top">
    <a class="navbar-brand" href="index.html"><img src="assets/images/qanairy_logo.png" alt="" class="img-responsive"></a>
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarCollapse">
      <ul class="navbar-nav ml-auto">
        <li class="nav-item">
          <a class="nav-link" href="index.html#steps">How It Works</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="features.html">Features</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="pricing.html">Pricing</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="https://chrome.google.com/webstore/detail/qanairy-test-recorder/gaeciehbbgjmpkpeeojblplhcpemnlpo"  target="_blank">Test Recorder</a>
        </li>
        <li class="nav-item dropdown">
          <a class="nav-link dropdown-toggle" href="#" id="navbarDropdownMenuLink2" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
            About
          </a>
          <div class="dropdown-menu dropdown-menu-right" aria-labelledby="navbarDropdownMenuLink2">
            <a class="dropdown-item" href="contact.html">Contact</a>
            <a class="dropdown-item" href="about.html">About Us</a>
          </div>
        </li>
        <li class="nav-item dropdown">
          <a class="nav-link dropdown-toggle" href="#" id="navbarDropdownMenuLink3" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
            Resources
          </a>
          <div class="dropdown-menu dropdown-menu-right" aria-labelledby="navbarDropdownMenuLink3">
            <a class="dropdown-item" href="roadmap.html">Release Roadmap</a>
            <a class="dropdown-item" href="http://blog.qanairy.com/"  target="_blank">Blog</a>
          </div>
        </li>
      </ul>
      <a  class="btn btn-login" href="http://app.qanairy.com" role="button" aria-pressed="true">Log In/Sign Up</a>
    </div>
  </nav>
</header>

<!-- Begin page content -->
<main role="main" class="flex-shrink-0">
  <div class="container">




    				<!--
        |========================
        |     SIGNUP
        |========================
        -->
        <section class="signup white-bg" id="signup">
					<div class="container">
						<div class="row section-separator">

							<div class="col-12  offset-sm-1 col-sm-10  offset-md-2 col-md-8 offset-lg-3 col-lg-6">
								<div class="">
										<h3>Sign up</h3>
		            </div>

								<form id="signup_form">
									<fieldset>
										<div class="field-title">
											Email
										</div>
										<p>
											<input class="text-left form-control" type="email" id="signup_email" placeholder="Email" required/>
										</p>
										<div class="field-title">
											Password
										</div>
										<p>
											<input class="text-left form-control" type="password" id="signup_password" placeholder="Password" required/>
										</p>
										<div class="field-title">
											Selected Plan
										</div>
										<p class="text-left">
											Basic - $99
											<input type="hidden" id="subscription" required/>
										</p>
									</fieldset>
								</form>
              </div>
              	<div class="col-12  offset-sm-1 col-sm-10  offset-md-2 col-md-8 offset-lg-3 col-lg-6">
								<div class="">
										<h3>Payment</h3>
								</div>
								<form id="payment-form">
									<div class="form-row">

										<div class="field-title float-left">
											Credit or debit card
										</div>
										<div class="cc-title">
											CVC
										</div>
										<div class="cc-title">
											Expiration Date
										</div>
										<div id="card-element">
											<!-- A Stripe Element will be inserted here. -->
										</div>
										<!-- Used to display Element errors. -->
										<div id="card-errors" role="alert"></div>
									</div>
								</form>
              </div>

							<div class="pt-4 col-md-8 col-sm-12 offset-md-2 ">
								<button class="btn" id="signup-button">Sign up</button>
							</div>

						</div>
					</div>
        </section>
  </div>
</main>

<footer class="black-bg footer mt-auto py-3" id="footer">
    <div class="container">
      <div class="row">
        <div class="col-md-6 left-footer">
            <p>Qanairy, Inc. &#169; 2019
            </p>
        </div>
        <div class="col-md-6 right-footer">
            <p><a href="http://app.qanairy.com/terms.html">Terms of Use</a>
              &nbsp;&nbsp;|&nbsp;&nbsp;
          <a href="http://app.qanairy.com/privacy.html">Privacy Policy</a>
            </p>
        </div>
      </div>
    </div>
</footer>
   <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
      <script>window.jQuery || document.write('<script src="https://getbootstrap.com/docs/4.2/assets/js/vendor/jquery-slim.min.js"><\/script>')</script><script src="https://getbootstrap.com/docs/4.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-zDnhMsjVZfS3hiP7oCBRmfjkQC4fzxVxFhBx8Hkz2aZX8gEvA/jsP3eXRCvzTofP" crossorigin="anonymous"></script>
        <!--
        |========================
        |      Script
        |========================
        -->
        <script src="assets/plugins/js/jquery-3.1.1.min.js"></script>
        <script src="assets/plugins/js/bootstrap.min.js"></script>
        <script src="assets/plugins/js/wow.min.js"></script>
        <script src="assets/plugins/js/jquery.nav.js"></script>
        <script src="assets/plugins/js/jquery.ajaxchimp.min.js"></script>
        <script src="assets/plugins/js/smooth-scroll.js"></script>
        <script src="assets/plugins/js/validator.min.js"></script>
        <!-- CUSTOM SCRIPT-->
        <script src="assets/js/init.min.js"></script>

        <script>
          (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
          (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
          m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
          })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

          ga('create', 'UA-88291830-1', 'auto');
          ga('send', 'pageview');

        </script>



			<script
  src="https://code.jquery.com/jquery-3.3.1.min.js"
  integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8="
  crossorigin="anonymous"></script>
  <script src="https://cdn.auth0.com/js/auth0/9.8.1/auth0.min.js"></script>
  <script src="https://js.stripe.com/v3/"></script>

  <script>

    var stripe = Stripe('pk_live_44mv3UzkcOxPpEk0LSXSQxsE');

    var elements = stripe.elements();

    var style = {
      base: {
        color: '#32325d',
        lineHeight: '18px',
        fontFamily: '"Helvetica Neue", Helvetica, sans-serif',
        fontSmoothing: 'antialiased',
        fontSize: '16px',
        '::placeholder': {
          color: '#aab7c4'
        }
      },
      invalid: {
        color: 'fa755a',
        iconColor: '#fa755a'
      }
    };

    var card = elements.create('card', {style: style});
    card.mount('#card-element');

    //handle form submission
    function stripeTokenHandler(stripe_token, access_token, plan, id_token){

      //submit token with ajax
      $.ajax({
        url: "https://api.qanairy.com/subscribe",
        type: 'PUT',
        datatype : "application/json",
        contentType: 'application/x-www-form-urlencoded; charset=UTF-8',
        headers: {
          "Authorization": "Bearer " +access_token
        },
        data: {plan : plan, source_token: stripe_token.id},
        success: function(data){
          localStorage.setItem("access_token", access_token);

          console.log("Successfully processed subscription");

          //navigate user to app
          window.location.href = "https://app.qanairy.com?accessToken="+access_token+"&idToken="+id_token;
        },
        onFailure: function(err) {
          console.log("Error occurred while processing subscription request "+err);
        }
      });
    };



    var auth0 = new auth0.WebAuth({
      domain: "qanairy.auth0.com",
      clientID:  "wT7Phjs9BpwEfnZeFLvK1hwHWP2kU7LV", //"mMomHg1ZhzZkM4Tsz2NGkdJH3eeJqIq6",
      responseType: "token id_token",
      audience: "https://api.qanairy.com",
      scope: "openid profile email read:domains delete:domains update:domains create:domains create:accounts read:accounts delete:accounts update:accounts read:tests update:tests read:groups update:groups create:groups delete:groups run:tests start:discovery read:actions"
    });

    $("#signup-button").on('click',  function(){
      console.log("signup clicked");

      var settings = {
        "async": true,
        "crossDomain": true,
        "url": "https://qanairy.auth0.com/dbconnections/signup",
        "method": "POST",
        "headers": {
          "content-type": "application/x-www-form-urlencoded"
        },
        "data": {
          "client_id": "mMomHg1ZhzZkM4Tsz2NGkdJH3eeJqIq6",
          "email": $('#signup_email').val(),
          "password": $('#signup_password').val(),
          "connection": "Username-Password-Authentication",
          "user_metadata" :{
            "subscription_plan": $('#subscription').val()
          }
        }
      };

      console.log("signup clicked");

      auth0.signupAndAuthorize(settings.data, function(err, res){
        if(!err){
          stripe.createToken(card).then(function(result){
            if(result.error){
              //inform the user there was an error
              var errorElement = document.getElementById('card-errors');
              errorElement.textContent = result.error.message;
            }
            else {
              //update user subscription
              //send token to the server
              stripeTokenHandler(result.token, res.accessToken, "pro", res.idToken);
            }
          });
        }
      });
    });
  </script>
    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-88291830-1', 'auto');
      ga('send', 'pageview');

    </script>
    <script>
      "use strict";

      !function() {
        var t = window.driftt = window.drift = window.driftt || [];
        if (!t.init) {
          if (t.invoked) return void (window.console && console.error && console.error("Drift snippet included twice."));
          t.invoked = !0, t.methods = [ "identify", "config", "track", "reset", "debug", "show", "ping", "page", "hide", "off", "on" ],
          t.factory = function(e) {
            return function() {
              var n = Array.prototype.slice.call(arguments);
              return n.unshift(e), t.push(n), t;
            };
          }, t.methods.forEach(function(e) {
            t[e] = t.factory(e);
          }), t.load = function(t) {
            var e = 3e5, n = Math.ceil(new Date() / e) * e, o = document.createElement("script");
            o.type = "text/javascript", o.async = !0, o.crossorigin = "anonymous", o.src = "https://js.driftt.com/include/" + n + "/" + t + ".js";
            var i = document.getElementsByTagName("script")[0];
            i.parentNode.insertBefore(o, i);
          };
        }
      }();
      drift.SNIPPET_VERSION = '0.3.1';
      drift.load('bts7s3tk3w9i');
    </script>
  </body>
</html>
