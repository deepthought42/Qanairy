<!DOCTYPE html>
<!--[if IE 7]> <html class="no-js ie7 oldie" lang="en-US"> <![endif]-->
<!--[if IE 8]> <html class="no-js ie8 oldie" lang="en-US"> <![endif]-->
<!--[if gt IE 8]><!-->
<html lang="en">
    <head>

        <!-- TITLE OF SITE -->
        <title>Qanairy - Sign Up</title>

        <!-- Meta -->
        <meta charset="utf-8">
        <meta name="description" content="Here at Qanairy we work hard and play hard. We are a team of passionate, determined individuals who collaborate together to achieve greatness." />
        <meta name="keywords" content="qa, quality assurance, automation, qa testing, ui testing, automated, automated qa, artificial intelligence, scripts, test scripts, SaaS, software, smoke, forms, link, regression, scriptless, AI, test, continuous integration, continuous testing, bugs, errors, feature, user interface, continuous deployment, testing, feature test, service," />
        <meta name="developer" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

        <!-- FAV AND ICONS   -->
        <link rel="shortcut icon" href="./assets/images/favicon.ico">
        <!--<link rel="shortcut icon" href="assets/images/apple-icon.png">
        <link rel="shortcut icon" sizes="72x72" href="assets/images/apple-icon-72x72.png">
        <link rel="shortcut icon" sizes="114x114" href="assets/images/apple-icon-114x114.png">
      -->
        <!-- GOOGLE FONTS -->

        <script type="text/javascript">
            window.heap=window.heap||[],heap.load=function(e,t){window.heap.appid=e,window.heap.config=t=t||{};var r=t.forceSSL||"https:"===document.location.protocol,a=document.createElement("script");a.type="text/javascript",a.async=!0,a.src=(r?"https:":"http:")+"//cdn.heapanalytics.com/js/heap-"+e+".js";var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(a,n);for(var o=function(e){return function(){heap.push([e].concat(Array.prototype.slice.call(arguments,0)))}},p=["addEventProperties","addUserProperties","clearEventProperties","identify","removeEventProperty","setEventProperties","track","unsetEventProperty"],c=0;c<p.length;c++)heap[p[c]]=o(p[c])};
              heap.load("544963075");
        </script>
        <!--[if lt IE 9]>
            <script src="js/plagin-js/html5shiv.js"></script>
            <script src="js/plagin-js/respond.min.js"></script>
        <![endif]-->

    </head>
    <body>

			 <header>
            <div class="main-navigation">
                <nav class="navbar navbar-fixed-top nav-scroll">
                    <div class="container">
                        <div class="row">
                            <div class="navbar-header">
                                <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-action="#js-navbar-menu" aria-expanded="false">
                                        <span aria-hidden="true" class="icon"></span>
                                    </button>
                                <!-- page brand -->
                                <a class="navbar-brand" href="index.html"><img src="assets/images/qanairy_logo.png" alt="" class="img-responsive"></a>
                            </div>
                            <div class="collapse navbar-collapse" id="js-navbar-menu">
                                <ul class="nav navbar-nav navbar-right" id="navbar-nav">
                                    <li><a href="index.html#home" data-scroll="home">Home</a></li>
                                    <li><a href="index.html#steps" data-scroll="steps">How It Works</a></li>
																	  <li><a href="features.html" data-scroll="features">Why Use Qanairy</a></li>
																		<li><a href="pricing.html" data-scroll="pricing">Pricing</a></li>
																		<li><a href="about.html" data-scroll="about">About</a></li>
																		<li><a href="contact.html" data-scroll="contact">Contact</a></li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </nav><!-- /.navbar -->
            </div>

				  </header>


			<main class="Site-content">

				<!--
        |========================
        |     SIGNUP
        |========================
        -->
        <section class="signup white-bg" id="signup">
					<div class="container">
						<div class="row section-separator">

							<div class="col-md-offset-3 col-md-6  col-sm-offset-2 col-sm-8 col-xs-12">
								<div class="">
										<h3>Sign up</h3>
		            </div>

								<form id="signup_form">
									<fieldset>
										<div class="field-title">
											Email
										</div>
										<p>
											<input class="text-left form-control" type="email" id="signup_email" placeholder="Email" required/>
										</p>
										<div class="field-title">
											Password
										</div>
										<p>
											<input class="text-left form-control" type="password" id="signup_password" placeholder="Password" required/>
										</p>
										<div class="field-title">
											Selected Plan
										</div>
										<p class="text-left">
											Basic - $99
											<input type="hidden" id="subscription" required/>
										</p>
									</fieldset>
								</form>

								<div class="">
										<h3>Payment</h3>
								</div>
								<form id="payment-form">
									<div class="form-row">

										<div class="field-title float-left">
											Credit or debit card
										</div>
										<div class="cc-title">
											CVC
										</div>
										<div class="cc-title">
											Expiration Date
										</div>
										<div id="card-element">
											<!-- A Stripe Element will be inserted here. -->
										</div>
										<!-- Used to display Element errors. -->
										<div id="card-errors" role="alert"></div>
									</div>
								</form>
              </div>

							<div class="col-md-8 col-sm-12 col-md-offset-2 ">
								<button class="btn" id="signup-button">Sign up</button>
							</div>

						</div>
					</div>
        </section>

			</main>

        <!--
        |========================
        |   FOOTER
        |========================
        -->

			<footer>
				<section class="black-bg footer" id="footer">
					<div class="container">
						<div class="row">
							<div class="col-md-6 left-footer">
									<p>Qanairy, Inc. &#169; 2018
									</p>
							</div>
							<div class="col-md-6 right-footer">
									<p><a href="http://app.qanairy.com/terms.html">Terms of Use</a>
										&nbsp;&nbsp;|&nbsp;&nbsp;
								<a href="http://app.qanairy.com/privacy.html">Privacy Policy</a>
									</p>
							</div>
						</div>
					</div>
	      </section>
			</footer>

        <link href="https://fonts.googleapis.com/css?family=Montserrat:100,100i,200,200i,300,300i,400,400i,500,500i,600,600i,700,700i,800,800i,900,900i" rel="stylesheet">
        <link href="https://fonts.googleapis.com/css?family=Open+Sans:300,300i,400,400i,600,600i,700,700i,800,800i" rel="stylesheet">
         <!-- FONT ICONS -->
        <link rel="stylesheet" href="assets/icons/font-awesome-4.4.0/css/font-awesome.min.css">

        <!-- All Plagin CSS-->
        <link rel="stylesheet" href="assets/plugins/css/bootstrap.min.css">
        <link rel="stylesheet" href="assets/plugins/css/animate.css">
        <link rel="stylesheet" href="assets/plugins/css/owl.carousel.min.css">

        <!--   COUSTOM CSS link  -->
        <link rel="stylesheet" href="assets/css/style.min.css">
        <link rel="stylesheet" href="assets/css/responsive.min.css">

        <!-- Color -->
        <link rel="stylesheet" href="assets/css/color/color-1.min.css"  id="color-scheme"> <!-- Currently Using this Color -->
        <!--<link rel="stylesheet" href="assets/css/color/color-2.css">-->
        <!--<link rel="stylesheet" href="assets/css/color/color-3.css"> -->
        <!--<link rel="stylesheet" href="assets/css/color/color-4.css"> -->
        <!--<link rel="stylesheet" href="assets/css/color/color-5.css"> -->
        <!--<link rel="stylesheet" href="assets/css/color/color-6.css"> -->
        <!--
        |========================
        |      Script
        |========================
        -->
        <script src="assets/plugins/js/jquery-3.1.1.min.js"></script>
        <script src="assets/plugins/js/bootstrap.min.js"></script>
        <script src="assets/plugins/js/wow.min.js"></script>
        <script src="assets/plugins/js/jquery.nav.js"></script>
        <script src="assets/plugins/js/jquery.ajaxchimp.min.js"></script>
        <script src="assets/plugins/js/owl.carousel.min.js"></script>
        <script src="assets/plugins/js/smooth-scroll.js"></script>
        <script src="assets/plugins/js/validator.min.js"></script>
        <!-- CUSTOM SCRIPT-->
        <script src="assets/js/init.min.js"></script>

        <script>
          (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
          (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
          m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
          })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

          ga('create', 'UA-88291830-1', 'auto');
          ga('send', 'pageview');

        </script>



			<script
  src="https://code.jquery.com/jquery-3.3.1.min.js"
  integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8="
  crossorigin="anonymous"></script>
<script src="https://cdn.auth0.com/js/auth0/9.8.1/auth0.min.js"></script>
<script src="https://js.stripe.com/v3/"></script>

<script>

  var stripe = Stripe('pk_test_9QwakrlLpcLEYO5Ui0JoYHvC');

  var elements = stripe.elements();

  var style = {
    base: {
      color: '#32325d',
      lineHeight: '18px',
      fontFamily: '"Helvetica Neue", Helvetica, sans-serif',
      fontSmoothing: 'antialiased',
      fontSize: '16px',
      '::placeholder': {
        color: '#aab7c4'
      }
    },
    invalid: {
      color: 'fa755a',
      iconColor: '#fa755a'
    }
  };

  var card = elements.create('card', {style: style});
  card.mount('#card-element');

  //handle form submission
  function stripeTokenHandler(stripe_token, access_token, plan, id_token){

    //submit token with ajax
    $.ajax({
      url: "https://staging-api.qanairy.com/subscribe",
      type: 'PUT',
      datatype : "application/json",
      contentType: 'application/x-www-form-urlencoded; charset=UTF-8',
      headers: {
        "Authorization": "Bearer " +access_token
      },
      data: {plan : plan, source_token: stripe_token.id},
      success: function(data){
        localStorage.setItem("access_token", access_token);

        console.log("Successfully processed subscription");

        //navigate user to app
        window.location.href = "https://staging-app.qanairy.com?accessToken="+access_token+"&idToken="+id_token;
      },
      onFailure: function(err) {
        console.log("Error occurred while processing subscription request "+err);
      }
    });
  };



  var auth0 = new auth0.WebAuth({
    domain: "staging-qanairy.auth0.com",
    clientID:  "mMomHg1ZhzZkM4Tsz2NGkdJH3eeJqIq6",//"wT7Phjs9BpwEfnZeFLvK1hwHWP2kU7LV",
    responseType: "token id_token",
    audience: "https://staging-api.qanairy.com",
    scope: "openid profile email read:domains delete:domains update:domains create:domains create:accounts read:accounts delete:accounts update:accounts read:tests update:tests read:groups update:groups create:groups delete:groups run:tests start:discovery read:actions"
  });

  $("#signup-button").on('click',  function(){
    console.log("signup clicked");

    var settings = {
      "async": true,
      "crossDomain": true,
      "url": "https://staging-qanairy.auth0.com/dbconnections/signup",
      "method": "POST",
      "headers": {
        "content-type": "application/x-www-form-urlencoded"
      },
      "data": {
        "client_id": "mMomHg1ZhzZkM4Tsz2NGkdJH3eeJqIq6",
        "email": $('#signup_email').val(),
        "password": $('#signup_password').val(),
        "connection": "Username-Password-Authentication",
        "user_metadata" :{
          "subscription_plan": $('#subscription').val()
        }
      }
    };

    console.log("signup clicked");

    auth0.signupAndAuthorize(settings.data, function(err, res){
      if(!err){
        stripe.createToken(card).then(function(result){
          if(result.error){
            //inform the user there was an error
            var errorElement = document.getElementById('card-errors');
            errorElement.textContent = result.error.message;
          }
          else {
            //update user subscription
            //send token to the server
            stripeTokenHandler(result.token, res.accessToken, "pro", res.idToken);
          }
        });
      }
    });
  });
</script>

    </body>
</html>
